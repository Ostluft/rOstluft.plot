<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ploting air quality data • rOstluft.plot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Ploting air quality data">
<meta property="og:description" content="This package provides functions to quickly display data as diagrams.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rOstluft.plot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9008</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/articles/Kalender_Linie.html">Linien Kalender</a>
    </li>
    <li>
      <a href="articles/articles/Wind_Density.html">Diurnal Wind als Density und Boxplot</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Ostluft/rOstluft.plot">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p><img src="reference/figures/logo.png" align="right"></p>
<div id="rostluftplot" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rostluftplot" class="anchor"></a>rOstluft.plot</h1></div>
<p>Erstellen von Diagrammen für Ostluft Auswertungen und Berichte mit Bezug zu Luftschadstoffen und Meteorologie. Einige Funktionen sind aus dem package <a href="http://www.openair-project.org">openair</a> abgeleitet. Alle plot-Funktionen sind grundsätzlich auf das <a href="https://ggplot2.tidyverse.org">ggplot2</a> package bezogen.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>Der Quellcode von <a href="https://github.com/Ostluft/rOstluft.plot">rOstluft.plot</a> ist auf github gehosted. Die einfachste Variante ist die Installation mit Hilfe des Packages devtools:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co">#install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/reexports.html">install_github</a></span>(<span class="st">"Ostluft/rOstluft.plot"</span>)</a></code></pre></div>
</div>
<div id="beispiele" class="section level1">
<h1 class="hasAnchor">
<a href="#beispiele" class="anchor"></a>Beispiele</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rOstluft.plot)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rOstluft)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rOstluft.data)</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb2-6" title="6"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(lubridate)</a>
<a class="sourceLine" id="cb2-7" title="7"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tibble)</a>
<a class="sourceLine" id="cb2-8" title="8"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(purrr)</a>
<a class="sourceLine" id="cb2-9" title="9"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(scales)</a>
<a class="sourceLine" id="cb2-10" title="10"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(openair)</a>
<a class="sourceLine" id="cb2-11" title="11"></a>
<a class="sourceLine" id="cb2-12" title="12">data &lt;-</a>
<a class="sourceLine" id="cb2-13" title="13"><span class="st">  </span>rOstluft.data<span class="op">::</span><span class="kw">f</span>(<span class="st">"Zch_Stampfenbachstrasse_2010-2014.csv"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="st">  </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/read_airmo_csv.html">read_airmo_csv</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="st">  </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/rolf_to_openair.html">rolf_to_openair</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="st">  </span>openair<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/openair/man/cutData.html">cutData</a></span>(date, <span class="dt">type =</span> <span class="st">"daylight"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="st">  </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb2-19" title="19">    <span class="dt">wday =</span> lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/day.html">wday</a></span>(date, <span class="dt">label =</span> <span class="ot">TRUE</span>, <span class="dt">week_start =</span> <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb2-20" title="20">    <span class="dt">year =</span> lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/year.html">year</a></span>(date)</a>
<a class="sourceLine" id="cb2-21" title="21">  )</a></code></pre></div>
<div id="windrose-auf-karte" class="section level2">
<h2 class="hasAnchor">
<a href="#windrose-auf-karte" class="anchor"></a>Windrose auf Karte</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">bb &lt;-<span class="st"> </span><span class="kw"><a href="reference/bbox_lv95.html">bbox_lv95</a></span>(<span class="dv">2683141</span>, <span class="dv">1249040</span>, <span class="dv">500</span>)</a>
<a class="sourceLine" id="cb3-2" title="2">bg &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_stamen_map.html">get_stamen_map</a></span>(bb)</a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw"><a href="reference/ggwindrose.html">ggwindrose</a></span>(data, ws, wd, <span class="dt">ws_max =</span> <span class="dv">4</span>, <span class="dt">bg =</span> bg, ) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="st">  </span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">"black"</span>, <span class="dt">size =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb3-7" title="7">   )</a></code></pre></div>
<p><img src="reference/figures/README-ggwindrose-1.png" width="100%"></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># Für Facetten müssen die facet Variablen in groupings enthalten sein:</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw"><a href="reference/ggwindrose.html">ggwindrose</a></span>(data, ws, wd, <span class="dt">ws_max =</span> <span class="dv">4</span>, <span class="dt">groupings =</span> <span class="kw"><a href="reference/grp.html">grp</a></span>(daylight)) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="kw">vars</span>(daylight))</a></code></pre></div>
<p><img src="reference/figures/README-ggwindrose-2.png" width="100%"></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># y Achse kann wie gewohnt mit einer scale_y_continuous angepasst werden</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co"># das untere Limit sollte auf 0 gesetzt werden</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw"><a href="reference/ggwindrose.html">ggwindrose</a></span>(data, ws, wd, <span class="dt">ws_max =</span> <span class="dv">4</span>, <span class="dt">groupings =</span> <span class="kw"><a href="reference/grp.html">grp</a></span>(daylight)) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="kw">vars</span>(daylight)) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="st">  </span><span class="kw">scale_y_continuous</span>(</a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="dt">limits =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="ot">NA</span>), </a>
<a class="sourceLine" id="cb5-7" title="7">    <span class="dt">expand =</span> <span class="kw">expand_scale</span>(), </a>
<a class="sourceLine" id="cb5-8" title="8">    <span class="dt">labels =</span> scales<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/scales/man/number_format.html">percent_format</a></span>(<span class="dv">1</span>),</a>
<a class="sourceLine" id="cb5-9" title="9">    <span class="dt">breaks =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="dv">0</span>, <span class="fl">0.3</span>, <span class="fl">0.05</span>)</a>
<a class="sourceLine" id="cb5-10" title="10">  )</a></code></pre></div>
<p><img src="reference/figures/README-ggwindrose-3.png" width="100%"></p>
</div>
<div id="radar-chart-windstatistik" class="section level2">
<h2 class="hasAnchor">
<a href="#radar-chart-windstatistik" class="anchor"></a>Radar-chart Windstatistik</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># Simpler Radarplot</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw"><a href="reference/ggradar.html">ggradar</a></span>(data, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> wd, <span class="dt">y =</span> NOx), <span class="dt">fill =</span> <span class="st">"gray30"</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="reference/figures/README-ggradar-1.png" width="100%"></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># mehrere Statistik Funktionen</span></a>
<a class="sourceLine" id="cb7-2" title="2">q05 &lt;-<span class="st"> </span><span class="cf">function</span>(x, ...) <span class="kw"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span>(x, <span class="fl">0.05</span>, ...)</a>
<a class="sourceLine" id="cb7-3" title="3">q95 &lt;-<span class="st"> </span><span class="cf">function</span>(x, ...) <span class="kw"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span>(x, <span class="fl">0.95</span>, ...)</a>
<a class="sourceLine" id="cb7-4" title="4">stat_reorder &lt;-<span class="st"> </span><span class="cf">function</span>(stat) {</a>
<a class="sourceLine" id="cb7-5" title="5">  <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(stat, <span class="dt">levels =</span> <span class="kw"><a href="https://rdrr.io/r/base/rev.html">rev</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"perc05"</span>, <span class="st">"median"</span>, <span class="st">"mean"</span>, <span class="st">"perc95"</span>)))</a>
<a class="sourceLine" id="cb7-6" title="6">}</a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw"><a href="reference/ggradar.html">ggradar</a></span>(data, <span class="kw">aes</span>(<span class="dt">x =</span> wd, <span class="dt">y =</span> NOx, <span class="dt">fill =</span> stat, <span class="dt">group =</span> stat),</a>
<a class="sourceLine" id="cb7-8" title="8">    <span class="dt">fun =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"perc05"</span> =<span class="st"> </span>q05, <span class="st">"median"</span>, <span class="st">"mean"</span>, <span class="st">"perc95"</span> =<span class="st"> </span>q95),</a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="dt">fun_reorder =</span> stat_reorder, <span class="dt">color =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.9</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>,<span class="dv">120</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="st">  </span><span class="kw">scale_fill_viridis_d</span>(<span class="dt">begin =</span> <span class="fl">0.2</span>)</a></code></pre></div>
<p><img src="reference/figures/README-ggradar-2.png" width="100%"></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co"># Karte als Hintergrund</span></a>
<a class="sourceLine" id="cb8-2" title="2">bb &lt;-<span class="st"> </span><span class="kw"><a href="reference/bbox_lv95.html">bbox_lv95</a></span>(<span class="dv">2683141</span>, <span class="dv">1249040</span>, <span class="dv">500</span>)</a>
<a class="sourceLine" id="cb8-3" title="3">bg &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_stamen_map.html">get_stamen_map</a></span>(bb)</a>
<a class="sourceLine" id="cb8-4" title="4"></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="kw"><a href="reference/ggradar.html">ggradar</a></span>(data, <span class="kw">aes</span>(<span class="dt">x =</span> wd, <span class="dt">y =</span> NOx), <span class="dt">bg =</span> bg, <span class="dt">lwd =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb8-6" title="6">         <span class="dt">color =</span> <span class="st">"steelblue"</span>, <span class="dt">fill =</span> <span class="st">"steelblue"</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="st">  </span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="st">"white"</span>),</a>
<a class="sourceLine" id="cb8-9" title="9">    <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">color =</span> <span class="st">"gray10"</span>)</a>
<a class="sourceLine" id="cb8-10" title="10">    )</a></code></pre></div>
<p><img src="reference/figures/README-ggradar-3.png" width="100%"></p>
</div>
<div id="polarplot-openair-style" class="section level2">
<h2 class="hasAnchor">
<a href="#polarplot-openair-style" class="anchor"></a>polarplot openair-style</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">fs &lt;-<span class="st"> </span><span class="kw"><a href="reference/scale_viridis_squished.html">scale_fill_gradientn_squished</a></span>(</a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="dt">limits =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>,<span class="dv">50</span>), <span class="dt">breaks =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="dv">0</span>,<span class="dv">50</span>,<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="dt">na.value =</span> <span class="ot">NA</span>, <span class="dt">colors =</span> matlab<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/matlab/man/jet.colors.html">jet.colors</a></span>(<span class="dv">20</span>)</a>
<a class="sourceLine" id="cb9-4" title="4">)</a>
<a class="sourceLine" id="cb9-5" title="5"></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="kw"><a href="reference/ggpolarplot.html">ggpolarplot</a></span>(data, <span class="dt">wd =</span> wd, <span class="dt">ws =</span> ws, <span class="dt">z =</span> NOx, <span class="dt">ws_max =</span> <span class="dv">4</span>,</a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="dt">bg =</span> bg, <span class="dt">alpha =</span> <span class="fl">0.6</span>,</a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="dt">fill_scale =</span> fs, <span class="dt">smooth =</span> <span class="ot">TRUE</span>, <span class="dt">breaks =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb9-9" title="9">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="st">  </span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb9-11" title="11">    <span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">"black"</span>, <span class="dt">size =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb9-12" title="12">  )</a></code></pre></div>
<p><img src="reference/figures/README-ggpolarplot-1.png" width="100%"></p>
</div>
<div id="tagesgang-jahresgang-heatmap" class="section level2">
<h2 class="hasAnchor">
<a href="#tagesgang-jahresgang-heatmap" class="anchor"></a>Tagesgang-Jahresgang heatmap</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw"><a href="reference/ggyearday.html">ggyearday</a></span>(data, <span class="dt">time =</span> <span class="st">"date"</span>, <span class="dt">z =</span> <span class="st">"O3"</span>)</a></code></pre></div>
<p><img src="reference/figures/README-ggyearday-1.png" width="100%"></p>
</div>
<div id="kalender--stat_filter" class="section level2">
<h2 class="hasAnchor">
<a href="#kalender--stat_filter" class="anchor"></a>Kalender + stat_filter</h2>
<p>Kalender der max Stundenwerte des Tages von Ozon</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">statstable &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="op">~</span>parameter, <span class="op">~</span>statistic, <span class="op">~</span>from, <span class="op">~</span>to,</a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="st">"O3"</span>, <span class="st">"mean"</span>, <span class="st">"input"</span>, <span class="st">"h1"</span>,</a>
<a class="sourceLine" id="cb11-4" title="4">  <span class="st">"O3"</span>, <span class="st">"max"</span>, <span class="st">"h1"</span>, <span class="st">"d1"</span></a>
<a class="sourceLine" id="cb11-5" title="5">)</a>
<a class="sourceLine" id="cb11-6" title="6"></a>
<a class="sourceLine" id="cb11-7" title="7">data_d1 &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="st">  </span>rOstluft.data<span class="op">::</span><span class="kw">f</span>(<span class="st">"Zch_Stampfenbachstrasse_2010-2014.csv"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="st">  </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/read_airmo_csv.html">read_airmo_csv</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(starttime <span class="op">&lt;</span><span class="st"> </span>lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="dv">20130101</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="st">  </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/calculate_statstable.html">calculate_statstable</a></span>(statstable) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/pluck.html">pluck</a></span>(<span class="st">"d1"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="st">  </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/rolf_to_openair.html">rolf_to_openair</a></span>()</a>
<a class="sourceLine" id="cb11-14" title="14"></a>
<a class="sourceLine" id="cb11-15" title="15"></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="kw"><a href="reference/ggcalendar.html">ggcalendar</a></span>(data_d1, <span class="dt">z =</span> <span class="st">"O3_max_h1"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="st">  </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">direction =</span> <span class="dv">-1</span>, <span class="dt">option =</span> <span class="st">"magma"</span>, <span class="dt">na.value =</span> <span class="ot">NA</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-18" title="18"><span class="st">  </span><span class="kw"><a href="reference/ggcalendar.html">cal_month_border</a></span>(<span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-19" title="19"><span class="st">  </span><span class="kw"><a href="reference/stat_filter.html">stat_filter</a></span>(</a>
<a class="sourceLine" id="cb11-20" title="20">    <span class="kw">aes</span>(<span class="dt">filter =</span> O3_max_h1 <span class="op">&gt;</span><span class="st"> </span><span class="dv">120</span>), <span class="dt">size =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb11-21" title="21">    <span class="dt">color =</span> <span class="st">"white"</span>, <span class="dt">fill =</span> <span class="st">"white"</span>, <span class="dt">shape =</span> <span class="dv">21</span>,</a>
<a class="sourceLine" id="cb11-22" title="22">    <span class="dt">position =</span> <span class="kw">position_nudge</span>(<span class="dt">y =</span> <span class="fl">0.25</span>)</a>
<a class="sourceLine" id="cb11-23" title="23">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-24" title="24"><span class="st">  </span><span class="kw"><a href="reference/ggcalendar.html">cal_label</a></span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(O3_max_h1,<span class="dv">0</span>)), <span class="dt">fontface =</span> <span class="st">"bold"</span>)</a></code></pre></div>
<p><img src="reference/figures/README-ggcalendar-1.png" width="100%"></p>
</div>
<div id="hysplit-trajektorien-openair-data-format" class="section level2">
<h2 class="hasAnchor">
<a href="#hysplit-trajektorien-openair-data-format" class="anchor"></a>Hysplit Trajektorien (openair data format)</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">fn &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"extdata"</span>, <span class="st">"2017_ZH-Kaserne-hysplit.rds"</span>, <span class="dt">package =</span> <span class="st">"rOstluft.data"</span>)</a>
<a class="sourceLine" id="cb12-2" title="2">traj &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span>(fn)</a>
<a class="sourceLine" id="cb12-3" title="3">traj &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(traj, </a>
<a class="sourceLine" id="cb12-4" title="4">  dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/between.html">between</a></span>(lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/as_date.html">as_date</a></span>(date), lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="st">"2017-03-08"</span>), lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ymd</a></span>(<span class="st">"2017-03-14"</span>))</a>
<a class="sourceLine" id="cb12-5" title="5">)</a>
<a class="sourceLine" id="cb12-6" title="6"></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co"># simple</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="kw"><a href="reference/ggtraj.html">ggtraj</a></span>(traj)</a></code></pre></div>
<p><img src="reference/figures/README-ggtraj-1.png" width="100%"></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co"># Schadstoff statt Trajektorienhöhe</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co"># Interessant für den Transport von Schadstoffen wie EC. In diesem Beispiel wird PM2.5</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co"># verwendet weil keine EC Daten in den Beispieldaten enthalten sind.</span></a>
<a class="sourceLine" id="cb13-4" title="4">data_<span class="dv">2017</span> &lt;-</a>
<a class="sourceLine" id="cb13-5" title="5"><span class="st">  </span>rOstluft.data<span class="op">::</span><span class="kw">f</span>(<span class="st">"Zch_Stampfenbachstrasse_min30_2017.csv"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="st">  </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/read_airmo_csv.html">read_airmo_csv</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="st">  </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/rolf_to_openair.html">rolf_to_openair</a></span>() </a>
<a class="sourceLine" id="cb13-8" title="8"></a>
<a class="sourceLine" id="cb13-9" title="9">data_traj &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(data_<span class="dv">2017</span>, <span class="op">-</span>site) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-11" title="11"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/join.html">right_join</a></span>(traj, <span class="dt">by =</span> <span class="st">"date"</span>)</a>
<a class="sourceLine" id="cb13-12" title="12">  </a>
<a class="sourceLine" id="cb13-13" title="13"><span class="kw"><a href="reference/ggtraj.html">ggtraj</a></span>(data_traj, <span class="kw">aes</span>(<span class="dt">color =</span> PM2<span class="fl">.5</span>), </a>
<a class="sourceLine" id="cb13-14" title="14">       <span class="dt">color_scale =</span> ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_c</a></span>(<span class="dt">direction =</span> <span class="dv">-1</span>))</a></code></pre></div>
<p><img src="reference/figures/README-ggtraj-2.png" width="100%"></p>
</div>
<div id="squishing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#squishing-data" class="anchor"></a>Squishing data</h2>
<p>Messdaten enthalten oft Extremwerte von ausserordentlichen Episoden oder Ereignissen. Als Beispiel Feuwerwerke oder Inversionen in den PM10 Daten:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw"><a href="reference/ggyearday.html">ggyearday</a></span>(data, <span class="dt">time =</span> date, <span class="dt">z =</span> PM10)</a></code></pre></div>
<p><img src="reference/figures/README-unsquished_ggyearday-1.png" width="100%"></p>
<p>In einem ggplot2 Diagramm kann bei continuous scales mit Hilfe dem Argument <code>oob</code> eine Funktion übergeben werden, was mit Werten ausserhalb des Limits geschieht. Mit Hilfe der Funktion <code><a href="https://rdrr.io/pkg/scales/man/squish.html">scales::squish()</a></code> werden diese Werte auf das Minima, bzw. Maxima der Limits gesetzt. In rOstluft.plot sind die Hilfsfunktionen <code><a href="reference/scale_viridis_squished.html">scale_fill_viridis_squished()</a></code>, <code><a href="reference/scale_viridis_squished.html">scale_color_viridis_squished()</a></code>, <code><a href="reference/scale_viridis_squished.html">scale_fill_gradientn_squished()</a></code> und <code><a href="reference/scale_viridis_squished.html">scale_color_gradientn_squished()</a></code> enthalten:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">fill_scale &lt;-<span class="st"> </span><span class="kw"><a href="reference/scale_viridis_squished.html">scale_fill_viridis_squished</a></span>(</a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="dt">breaks=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>), </a>
<a class="sourceLine" id="cb15-3" title="3">  <span class="dt">limits =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="dv">80</span>),</a>
<a class="sourceLine" id="cb15-4" title="4">  <span class="dt">direction =</span> <span class="dv">-1</span>, </a>
<a class="sourceLine" id="cb15-5" title="5">  <span class="dt">na.value =</span> <span class="ot">NA</span>, </a>
<a class="sourceLine" id="cb15-6" title="6">  <span class="dt">option =</span> <span class="st">"A"</span></a>
<a class="sourceLine" id="cb15-7" title="7">)</a>
<a class="sourceLine" id="cb15-8" title="8"></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="kw"><a href="reference/ggyearday.html">ggyearday</a></span>(data, <span class="dt">time =</span> date, <span class="dt">z =</span> PM10, <span class="dt">fill_scale =</span> fill_scale)</a></code></pre></div>
<p><img src="reference/figures/README-squished_ggyearday-1.png" width="100%"></p>
<p>Teilweise ist es für Klassierungen praktisch alle Werte über einem Maximum in einer zusätzlichen Klasse zusammen zu fassen. Die Funktion <code><a href="reference/cut_ws.html">cut_ws()</a></code> beinhaltet diese Funktionalität, hat jedoch gewisse Einschränkungen (Negative Werte werden zu NA, Breite der Klasse fix):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">pm10_right &lt;-<span class="st"> </span><span class="kw"><a href="reference/cut_ws.html">cut_ws</a></span>(data<span class="op">$</span>PM10, <span class="dt">binwidth =</span> <span class="dv">20</span>, <span class="dt">ws_max =</span> <span class="dv">80</span>)</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/table.html">table</a></span>(pm10_right)</a></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co">#&gt; pm10_right</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="co">#&gt;  [0,20] (20,40] (40,60] (60,80]     &gt;80 </span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="co">#&gt;   48146   27874    6162    1191     476</span></a></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">pm10_left &lt;-<span class="st"> </span><span class="kw"><a href="reference/cut_ws.html">cut_ws</a></span>(data<span class="op">$</span>PM10, <span class="dv">20</span>, <span class="dv">80</span>, <span class="dt">right =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb18-2" title="2"></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="co"># bei der Umwandlung der Ausgabe nach HTML wird "≥80" in "=80" </span></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="co"># umgewandelt. In Diagrammen und der R Konsole wird das Zeichen</span></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="co"># jedoch korrekt dargestellt. See https://github.com/r-lib/evaluate/issues/59</span></a>
<a class="sourceLine" id="cb18-6" title="6"><span class="kw"><a href="https://rdrr.io/r/base/table.html">table</a></span>(pm10_left)</a></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="co">#&gt; pm10_left</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="co">#&gt;  [0,20) [20,40) [40,60) [60,80)     =80 </span></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="co">#&gt;   48146   27874    6162    1191     476</span></a></code></pre></div>
<p>Für mehr Flexibilät kann direkt <code><a href="https://rdrr.io/r/base/cut.html">base::cut()</a></code> verwendet werden und breaks mit <code>-Inf</code> und <code>Inf</code> definiert werden.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">breaks &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="ot">Inf</span>, <span class="dv">0</span>, <span class="dv">19</span>, <span class="dv">41</span>, <span class="dv">66</span>, <span class="dv">80</span>, <span class="ot">Inf</span>)</a>
<a class="sourceLine" id="cb20-2" title="2">pm10_cut &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cut.html">cut</a></span>(data<span class="op">$</span>PM10, <span class="dt">breaks =</span> breaks, <span class="dt">right =</span> <span class="ot">TRUE</span>, <span class="dt">include.lowest =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb20-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/table.html">table</a></span>(pm10_cut)</a></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="co">#&gt; pm10_cut</span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="co">#&gt;  [-Inf,0]    (0,19]   (19,41]   (41,66]   (66,80] (80, Inf] </span></a>
<a class="sourceLine" id="cb21-3" title="3"><span class="co">#&gt;      1141     45516     31079      6164       614       476</span></a></code></pre></div>
</div>
<div id="padding-data" class="section level2">
<h2 class="hasAnchor">
<a href="#padding-data" class="anchor"></a>padding data</h2>
<p>Messdaten liegen nicht immer in vollständigen Zeitreihen vor. Für einige Diagramme ist es jedoch erforderlich, dass für alle Zeitpunkte ein Wert oder ein NA vorhanden ist. Für Daten im rolf Format können die rOstluft Funktionen <code><a href="https://rdrr.io/pkg/rOstluft/man/pad.html">rOstluft::pad()</a></code> und <code><a href="https://rdrr.io/pkg/rOstluft/man/pad_year.html">rOstluft::pad_year()</a></code> verwenden werden. rOstluft.plot enthält 2 generische padding Funktionen:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1">fn &lt;-<span class="st"> </span>rOstluft.data<span class="op">::</span><span class="kw">f</span>(<span class="st">"Zch_Stampfenbachstrasse_min30_2013_Jan.csv"</span>)</a>
<a class="sourceLine" id="cb22-2" title="2">january &lt;-<span class="st"> </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/read_airmo_csv.html">read_airmo_csv</a></span>(fn)</a>
<a class="sourceLine" id="cb22-3" title="3">january_oa &lt;-<span class="st"> </span>rOstluft<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rOstluft/man/rolf_to_openair.html">rolf_to_openair</a></span>(january</a>
<a class="sourceLine" id="cb22-4" title="4">                                        )</a>
<a class="sourceLine" id="cb22-5" title="5"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(january_oa)</a></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="co">#&gt; # A tibble: 6 x 16</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="co">#&gt;   date                site     CO    Hr    NO   NO2   NOx    O3     p  PM10</span></a>
<a class="sourceLine" id="cb23-3" title="3"><span class="co">#&gt;   &lt;dttm&gt;              &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb23-4" title="4"><span class="co">#&gt; 1 2013-01-31 21:00:00 Zch_~ 0.191  67.3 0.675  7.70  4.57  71.0  970.  7.21</span></a>
<a class="sourceLine" id="cb23-5" title="5"><span class="co">#&gt; 2 2013-01-31 21:30:00 Zch_~ 0.195  64.9 0.359  7.72  4.33  69.7  970.  4.89</span></a>
<a class="sourceLine" id="cb23-6" title="6"><span class="co">#&gt; 3 2013-01-31 22:00:00 Zch_~ 0.191  65.1 0.424  6.84  3.92  69.0  970.  6.71</span></a>
<a class="sourceLine" id="cb23-7" title="7"><span class="co">#&gt; 4 2013-01-31 22:30:00 Zch_~ 0.184  67.3 0.353  5.38  3.09  70.5  970.  5.19</span></a>
<a class="sourceLine" id="cb23-8" title="8"><span class="co">#&gt; 5 2013-01-31 23:00:00 Zch_~ 0.186  67.3 0.634  5.87  3.58  70.2  969.  5.79</span></a>
<a class="sourceLine" id="cb23-9" title="9"><span class="co">#&gt; 6 2013-01-31 23:30:00 Zch_~ 0.189  68.7 0.435  6.76  3.88  67.6  969.  7.92</span></a>
<a class="sourceLine" id="cb23-10" title="10"><span class="co">#&gt; # ... with 6 more variables: RainDur &lt;dbl&gt;, SO2 &lt;dbl&gt;, StrGlo &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb23-11" title="11"><span class="co">#&gt; #   T &lt;dbl&gt;, wd &lt;dbl&gt;, ws &lt;dbl&gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="co"># site mit "Zch_Stampfenbachstrasse" füllen</span></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="kw"><a href="reference/pad_to_year.html">pad_to_year</a></span>(january_oa, date, <span class="st">"30 min"</span>, <span class="dt">fill =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">site =</span> <span class="st">"Zch_Stampfenbachstrasse"</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-3" title="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="co">#&gt; # A tibble: 6 x 16</span></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="co">#&gt;   date                site     CO    Hr    NO   NO2   NOx    O3     p  PM10</span></a>
<a class="sourceLine" id="cb25-3" title="3"><span class="co">#&gt;   &lt;dttm&gt;              &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb25-4" title="4"><span class="co">#&gt; 1 2013-12-31 21:00:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb25-5" title="5"><span class="co">#&gt; 2 2013-12-31 21:30:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb25-6" title="6"><span class="co">#&gt; 3 2013-12-31 22:00:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb25-7" title="7"><span class="co">#&gt; 4 2013-12-31 22:30:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb25-8" title="8"><span class="co">#&gt; 5 2013-12-31 23:00:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb25-9" title="9"><span class="co">#&gt; 6 2013-12-31 23:30:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb25-10" title="10"><span class="co">#&gt; # ... with 6 more variables: RainDur &lt;dbl&gt;, SO2 &lt;dbl&gt;, StrGlo &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb25-11" title="11"><span class="co">#&gt; #   T &lt;dbl&gt;, wd &lt;dbl&gt;, ws &lt;dbl&gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1"><span class="co"># automatisch alle factor/character columns füllen</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="kw"><a href="reference/pad_to_year_fill.html">pad_to_year_fill</a></span>(january_oa, date, <span class="st">"30 min"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb26-3" title="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="co">#&gt; # A tibble: 6 x 16</span></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="co">#&gt;   date                site     CO    Hr    NO   NO2   NOx    O3     p  PM10</span></a>
<a class="sourceLine" id="cb27-3" title="3"><span class="co">#&gt;   &lt;dttm&gt;              &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb27-4" title="4"><span class="co">#&gt; 1 2013-12-31 21:00:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb27-5" title="5"><span class="co">#&gt; 2 2013-12-31 21:30:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb27-6" title="6"><span class="co">#&gt; 3 2013-12-31 22:00:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb27-7" title="7"><span class="co">#&gt; 4 2013-12-31 22:30:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb27-8" title="8"><span class="co">#&gt; 5 2013-12-31 23:00:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb27-9" title="9"><span class="co">#&gt; 6 2013-12-31 23:30:00 Zch_~    NA    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb27-10" title="10"><span class="co">#&gt; # ... with 6 more variables: RainDur &lt;dbl&gt;, SO2 &lt;dbl&gt;, StrGlo &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb27-11" title="11"><span class="co">#&gt; #   T &lt;dbl&gt;, wd &lt;dbl&gt;, ws &lt;dbl&gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1"><span class="kw"><a href="reference/pad_to_year_fill.html">pad_to_year_fill</a></span>(january, starttime, <span class="st">"30 min"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1"><span class="co">#&gt; # A tibble: 6 x 6</span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="co">#&gt;   starttime           site                   parameter interval unit  value</span></a>
<a class="sourceLine" id="cb29-3" title="3"><span class="co">#&gt;   &lt;dttm&gt;              &lt;fct&gt;                  &lt;fct&gt;     &lt;fct&gt;    &lt;fct&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb29-4" title="4"><span class="co">#&gt; 1 2013-12-31 21:00:00 Zch_Stampfenbachstras~ WVv       min30    m/s      NA</span></a>
<a class="sourceLine" id="cb29-5" title="5"><span class="co">#&gt; 2 2013-12-31 21:30:00 Zch_Stampfenbachstras~ WVv       min30    m/s      NA</span></a>
<a class="sourceLine" id="cb29-6" title="6"><span class="co">#&gt; 3 2013-12-31 22:00:00 Zch_Stampfenbachstras~ WVv       min30    m/s      NA</span></a>
<a class="sourceLine" id="cb29-7" title="7"><span class="co">#&gt; 4 2013-12-31 22:30:00 Zch_Stampfenbachstras~ WVv       min30    m/s      NA</span></a>
<a class="sourceLine" id="cb29-8" title="8"><span class="co">#&gt; 5 2013-12-31 23:00:00 Zch_Stampfenbachstras~ WVv       min30    m/s      NA</span></a>
<a class="sourceLine" id="cb29-9" title="9"><span class="co">#&gt; 6 2013-12-31 23:30:00 Zch_Stampfenbachstras~ WVv       min30    m/s      NA</span></a></code></pre></div>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1"><span class="co"># enthalten die Daten jedoch eine Klassifizierungs Spalte</span></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="co"># muss man die zu füllenden Spalten explixit angeben</span></a>
<a class="sourceLine" id="cb30-3" title="3">january_oa &lt;-<span class="st"> </span>openair<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/openair/man/cutData.html">cutData</a></span>(january_oa, <span class="st">"month"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-4" title="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(date, month, dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">everything</a></span>())</a>
<a class="sourceLine" id="cb30-5" title="5"></a>
<a class="sourceLine" id="cb30-6" title="6"><span class="co"># Monats Spalte wird falscherweise mit Januar gefüllt</span></a>
<a class="sourceLine" id="cb30-7" title="7"><span class="co"># Ausserdem würden für jeden Monat die Daten multipliziert</span></a>
<a class="sourceLine" id="cb30-8" title="8"><span class="kw"><a href="reference/pad_to_year_fill.html">pad_to_year_fill</a></span>(january_oa, date, <span class="st">"30 min"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-9" title="9"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1"><span class="co">#&gt; # A tibble: 6 x 17</span></a>
<a class="sourceLine" id="cb31-2" title="2"><span class="co">#&gt;   date                month site     CO    Hr    NO   NO2   NOx    O3     p</span></a>
<a class="sourceLine" id="cb31-3" title="3"><span class="co">#&gt;   &lt;dttm&gt;              &lt;ord&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb31-4" title="4"><span class="co">#&gt; 1 2013-12-31 21:00:00 Janu~ Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb31-5" title="5"><span class="co">#&gt; 2 2013-12-31 21:30:00 Janu~ Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb31-6" title="6"><span class="co">#&gt; 3 2013-12-31 22:00:00 Janu~ Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb31-7" title="7"><span class="co">#&gt; 4 2013-12-31 22:30:00 Janu~ Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb31-8" title="8"><span class="co">#&gt; 5 2013-12-31 23:00:00 Janu~ Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb31-9" title="9"><span class="co">#&gt; 6 2013-12-31 23:30:00 Janu~ Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb31-10" title="10"><span class="co">#&gt; # ... with 7 more variables: PM10 &lt;dbl&gt;, RainDur &lt;dbl&gt;, SO2 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb31-11" title="11"><span class="co">#&gt; #   StrGlo &lt;dbl&gt;, T &lt;dbl&gt;, wd &lt;dbl&gt;, ws &lt;dbl&gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1"><span class="co"># mit explixiter Defintion der zu füllenden Spalten klappt es</span></a>
<a class="sourceLine" id="cb32-2" title="2"><span class="kw"><a href="reference/pad_to_year_fill.html">pad_to_year_fill</a></span>(january_oa, date, <span class="st">"30 min"</span>, site) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb32-3" title="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1"><span class="co">#&gt; # A tibble: 6 x 17</span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="co">#&gt;   date                month site     CO    Hr    NO   NO2   NOx    O3     p</span></a>
<a class="sourceLine" id="cb33-3" title="3"><span class="co">#&gt;   &lt;dttm&gt;              &lt;ord&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb33-4" title="4"><span class="co">#&gt; 1 2013-12-31 21:00:00 &lt;NA&gt;  Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="co">#&gt; 2 2013-12-31 21:30:00 &lt;NA&gt;  Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb33-6" title="6"><span class="co">#&gt; 3 2013-12-31 22:00:00 &lt;NA&gt;  Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb33-7" title="7"><span class="co">#&gt; 4 2013-12-31 22:30:00 &lt;NA&gt;  Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb33-8" title="8"><span class="co">#&gt; 5 2013-12-31 23:00:00 &lt;NA&gt;  Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb33-9" title="9"><span class="co">#&gt; 6 2013-12-31 23:30:00 &lt;NA&gt;  Zch_~    NA    NA    NA    NA    NA    NA    NA</span></a>
<a class="sourceLine" id="cb33-10" title="10"><span class="co">#&gt; # ... with 7 more variables: PM10 &lt;dbl&gt;, RainDur &lt;dbl&gt;, SO2 &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb33-11" title="11"><span class="co">#&gt; #   StrGlo &lt;dbl&gt;, T &lt;dbl&gt;, wd &lt;dbl&gt;, ws &lt;dbl&gt;</span></a></code></pre></div>
<p>Karten Attribution: Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/Ostluft/rOstluft.plot">https://​github.com/​Ostluft/​rOstluft.plot</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Ostluft/rOstluft.plot/issues">https://​github.com/​Ostluft/​rOstluft.plot/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Thomas von Allmen <br><small class="roles"> Author, maintainer </small>  </li>
<li>Jörg Sintermann <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Thomas von Allmen, Jörg Sintermann.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
